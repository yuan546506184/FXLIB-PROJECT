(function(r,e,m,t,c){var v=r.Fxlib||null,b=r.Fxlib=function(){},n=Object.prototype.toString,w=Array.prototype.slice,x=/\{\s*\[native code\]\s*\}\s*$/i,y=/^\w+$/,z=/function\s+([^\(\s]+)/;b.isImpWithJsEngine=function(a){return"function"===typeof a&&x.test(""+a)};b.isInvaildObject=function(a){return"undefined"===typeof a||null===a};b.isReferenceObject=function(a){return null!==a&&("object"===typeof a||"function"===typeof a)};b.isValueObject=function(a){return"string"===typeof a||"number"===typeof a||
"boolean"===typeof a};b.isString=function(a){return"string"===typeof a||"[object String]"===n.call(a)};b.isNumber=function(a){return"number"===typeof a||"[object Number]"===n.call(a)};b.isBoolean=function(a){return"boolean"===typeof a||"[object Boolean]"===n.call(a)};b.isArray=b.isImpWithJsEngine(Array.isArray)?Array.isArray:function(a){return"object"===typeof a&&"[object Array]"===n.call(a)};b.isInvaildNumber=function(a){return!("number"===typeof a||"[object Number]"===n.call(a))||isNaN(a)||!isFinite(a)};
b.checkThisPointer=function(a,b){if(!(a instanceof b))throw Error("\u6784\u9020\u51fd\u6570\u6216\u7ed1\u5b9a\u7684\u5bf9\u8c61\u65b9\u6cd5\u7981\u6b62\u4fee\u6539 this \u6307\u9488\u3002");};b.namespace=function(a,p){if(!b.isReferenceObject(this))throw Error("\u8c03\u7528 namespace() \u65b9\u6cd5\u7684\u5bf9\u8c61\u5fc5\u987b\u662f\u5f15\u7528\u7c7b\u578b\u3002");if(!b.isString(a))throw Error("\u4f20\u9012\u7ed9 namespace() \u65b9\u6cd5\u7684 uri \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a String \u5bf9\u8c61\u3002");
for(var d=a.split(/\.+/),k=this,l="",c=0;c<d.length;++c){l=d[c];if(!y.test(l))throw Error("\u4f20\u9012\u7ed9 namespace() \u65b9\u6cd5\u7684 uri \u53c2\u6570\u4e2d\u5305\u542b\u65e0\u6548\u7684\u8def\u5f84\u7ec4\u4ef6\u3002");if(!b.isReferenceObject(k))throw Error("\u4f20\u9012\u7ed9 namespace() \u65b9\u6cd5\u7684 uri \u53c2\u6570\u6307\u5411\u4e86\u975e\u5f15\u7528\u7c7b\u578b\u7684\u8282\u70b9\u3002");if(!(b.isImpWithJsEngine(k.hasOwnProperty)?k.hasOwnProperty(l):l in k))try{k[l]={}}catch(e){throw Error("\u65e0\u6cd5\u4e3a\u88ab\u6807\u8bb0\u4e3a\u4e0d\u53ef\u6269\u5c55\u7684\u5bf9\u8c61\uff0c\u521b\u5efa\u540d\u79f0\u7a7a\u95f4\u5b50\u8282\u70b9\u3002");
}k=k[l]}if(b.isInvaildObject(p))return k;if(!b.isReferenceObject(p))throw Error("\u4f20\u9012\u7ed9 namespace() \u65b9\u6cd5\u7684 scriptor \u53c2\u6570\u5fc5\u987b\u4e3a\u5f15\u7528\u7c7b\u578b\u3002");if(!b.isReferenceObject(k))throw Error("\u4f20\u9012\u7ed9 namespace() \u65b9\u6cd5\u7684 uri \u53c2\u6570\u6307\u5411\u4e86\u975e\u5f15\u7528\u7c7b\u578b\u7684\u8282\u70b9\u3002");for(l in p)if(!b.isImpWithJsEngine(p.hasOwnProperty)||p.hasOwnProperty(l)){if(b.isImpWithJsEngine(k.hasOwnProperty)?k.hasOwnProperty(l):
l in k)throw Error("\u4f20\u9012\u7ed9 namespace() \u65b9\u6cd5\u7684 scriptor \u53c2\u6570\u4e2d\u5305\u542b\u5df2\u7ecf\u5b58\u5728\u539f\u59cb\u540d\u79f0\u7684\u5b9a\u4e49\u3002");k[l]=p[l]}return k};b.dispose=function(){return r.Fxlib=v,b};b.linkPrototype=function(a,d){if("function"!==typeof a)throw Error("\u4f20\u9012\u7ed9 linkPrototype() \u65b9\u6cd5\u7684 thisConstructor \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a Function \u5bf9\u8c61\u3002");if("function"!==typeof d)throw Error("\u4f20\u9012\u7ed9 linkPrototype() \u65b9\u6cd5\u7684 linkConstructor \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a Function \u5bf9\u8c61\u3002");
return(a.prototype=b.builtPrototype(d.prototype)).constructor=a};b.builtPrototype=b.isImpWithJsEngine(Object.create)?Object.create:function(a){if(!b.isReferenceObject(a))throw Error("\u4f20\u9012\u7ed9 builtPrototype() \u65b9\u6cd5\u7684 prototype \u53c2\u6570\u5fc5\u987b\u4e3a\u5f15\u7528\u7c7b\u578b\u3002");var d=function(){};d.prototype=a;return new d};b.foundPrototype=b.isImpWithJsEngine(Object.getPrototypeOf)?Object.getPrototypeOf:function(a){if(!b.isReferenceObject(a))throw Error("\u4f20\u9012\u7ed9 foundPrototype() \u65b9\u6cd5\u7684 object \u53c2\u6570\u5fc5\u987b\u4e3a\u5f15\u7528\u7c7b\u578b\u3002");
if(!b.isInvaildObject(a.__proto__))return a.__proto__;if(b.isImpWithJsEngine(a.hasOwnProperty)&&a.hasOwnProperty("constructor"))try{var d=a.constructor;delete a.constructor;var c=a.constructor;a.constructor=d;return c.prototype}catch(k){return a.constructor.prototype||null}return"function"!==typeof a.constructor?null:a.constructor.prototype||null};b.foundClassName=function(a){if("function"!==typeof a)throw Error("\u4f20\u9012\u7ed9 foundClassName() \u65b9\u6cd5\u7684 handler \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a Function \u5bf9\u8c61\u3002");
return a.hasOwnProperty("name")?a.name:(z.exec(""+a)||{})[1]||""};b.builtProxy=function(a,d){if("function"!==typeof a)throw Error("\u4f20\u9012\u7ed9 builtProxy() \u65b9\u6cd5\u7684 handler \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a Function \u5bf9\u8c61\u3002");if(!b.isReferenceObject(d))throw Error("\u4f20\u9012\u7ed9 builtProxy() \u65b9\u6cd5\u7684 context \u53c2\u6570\u5fc5\u987b\u4e3a\u5f15\u7528\u7c7b\u578b\u3002");if(2===arguments.length)return function(){return a.apply(d,arguments)};var c=w.call(arguments,
2),k=c.length;return function(){c.length=k;for(var b=0;b<arguments.length;++b)c[c.length]=arguments[b];return a.apply(d,c)}};b.ClassObject=b.linkPrototype(function(){b.checkThisPointer(this,b.ClassObject)},Object);b.ClassObject.prototype.toString=function(){try{var a=b.foundPrototype(this).constructor;return"[object "+(b.foundClassName(a)||"Anons")+"]"}catch(d){}return n.call(this)};var a,q,d,s,u;b.namespace("events",{Event:a=b.linkPrototype(function p(a,d,c){b.checkThisPointer(this,p);this.type=
""+a;this.bubbles=Boolean(d||!1);this.cancelable=Boolean(c||!1);this.currentTarget=this.target=null;this.eventPhase=0;this._isStoppedImmediate=this._isStoppedPropagation=this._isPreventDefault=!1},b.ClassObject),Listener:q=b.linkPrototype(function A(a,d,c,e){b.checkThisPointer(this,A);if("function"!==typeof a)throw Error("\u4f20\u9012\u7ed9 Listener \u6784\u9020\u51fd\u6570\u7684 handler \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a Function \u5bf9\u8c61\u3002");this.handler=a;this.context=d;this.useCapture=
Boolean(c||!1);this.priority=b.isInvaildNumber(e)?0:e},b.ClassObject),Dispatcher:d=b.linkPrototype(function k(a){b.checkThisPointer(this,k);this.target=a||this;this.tplist={};if(!b.isReferenceObject(this.target))throw Error("\u4f20\u9012\u7ed9 Dispatcher \u6784\u9020\u51fd\u6570\u7684 target \u53c2\u6570\u5fc5\u987b\u4e3a\u5f15\u7528\u7c7b\u578b\u3002");},b.ClassObject),MouseEvent:e=b.linkPrototype(function l(d,c,e){b.checkThisPointer(this,l);a.call(this,d,c,e)},a),FocusEvent:m=b.linkPrototype(function B(d,
c,e){b.checkThisPointer(this,B);a.call(this,d,c,e)},a),KeyboardEvent:t=b.linkPrototype(function C(d,c,g){b.checkThisPointer(this,C);a.call(this,d,c,g)},a),TouchEvent:c=b.linkPrototype(function D(d,g,f){b.checkThisPointer(this,D);a.call(this,d,g,f)},a),HTMLDispatcher:u=b.linkPrototype(function E(a){if(b.isInvaildObject(a))throw Error("\u4f20\u9012\u7ed9 HTMLDispatcher \u6784\u9020\u51fd\u6570\u7684 target \u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a\u3002");b.checkThisPointer(this,E);d.call(this,a);this.tpbind=
{};this.handleHtmlEvent=b.builtProxy(this.handleHtmlEvent,this)},d),HTMLEvent:s=b.linkPrototype(function g(f){if(!b.isReferenceObject(f))throw Error("\u4f20\u9012\u7ed9 HTMLEvent \u6784\u9020\u51fd\u6570\u7684 domEvent \u53c2\u6570\u5fc5\u987b\u4e3a\u5f15\u7528\u7c7b\u578b\u3002");b.checkThisPointer(this,g);a.call(this,f.type,f.bubbles,f.cancelable);this.domEvent=f;this.eventPhase=2;this.bubbles=!1;this.cancelable=!0;b.isNumber(this.domEvent.eventPhase)&&(this.eventPhase=this.domEvent.eventPhase);
b.isBoolean(this.domEvent.bubbles)&&(this.bubbles=this.domEvent.bubbles);b.isBoolean(this.domEvent.cancelable)&&(this.cancelable=this.domEvent.cancelable)},a)});a.prototype.initEvent=function(g,f,d){b.checkThisPointer(this,a);this.type=""+g;this.bubbles=Boolean(f||!1);this.cancelable=Boolean(d||!1)};a.prototype.stopPropagation=function(){b.checkThisPointer(this,a);this._isStoppedPropagation=!0};a.prototype.stopImmediatePropagation=function(){b.checkThisPointer(this,a);this._isStoppedImmediate=this._isStoppedPropagation=
!0};a.prototype.preventDefault=function(){b.checkThisPointer(this,a);this._isPreventDefault=!!this.cancelable};a.prototype.defaultPrevented=function(){b.checkThisPointer(this,a);return this._isPreventDefault};a.prototype.toString=function(){try{var a=b.foundPrototype(this).constructor;return"["+(b.foundClassName(a)||"Event")+' type="'+this.type+'", bubbles="'+this.bubbles+'", cancelable="'+this.cancelable+'", eventPhase="'+this.eventPhase+'"]'}catch(f){}return n.call(this)};a.prototype.isPropagation=
function(){return!this._isStoppedPropagation};a.prototype.isImmediate=function(){return!this._isStoppedImmediate};s.prototype.stopPropagation=function(){a.prototype.stopPropagation.call(this);b.isImpWithJsEngine(this.domEvent.stopPropagation)&&this.domEvent.stopPropagation();b.isBoolean(this.domEvent.cancelBubble)&&(this.domEvent.cancelBubble=!0)};s.prototype.stopImmediatePropagation=function(){a.prototype.stopImmediatePropagation.call(this);b.isImpWithJsEngine(this.domEvent.stopImmediatePropagation)&&
this.domEvent.stopImmediatePropagation();b.isBoolean(this.domEvent.cancelBubble)&&(this.domEvent.cancelBubble=!0)};s.prototype.preventDefault=function(){a.prototype.preventDefault.call(this);b.isImpWithJsEngine(this.domEvent.preventDefault)&&this.domEvent.preventDefault()};q.prototype.handleEvent=function(a){try{2===a.eventPhase&&this.handler.call(this.context,a)||1===a.eventPhase&&!0===this.useCapture&&this.handler.call(this.context,a)||3===a.eventPhase&&!1===this.useCapture&&this.handler.call(this.context,
a)}catch(b){}};q.prototype.initListener=function(a,f,d){this.context=a;this.useCapture=Boolean(f||!1);this.priority=b.isInvaildNumber(d)?0:d};d.prototype.addEventListener=function(a,f,c,h,e){b.checkThisPointer(this,d);"function"===typeof f&&(f=new q(f));if(!(f instanceof q))throw Error("\u4f20\u9012\u7ed9 addEventListener() \u65b9\u6cd5\u7684 listener \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a Listener \u5bf9\u8c61\u3002");f.initListener(h||this,c,e);a=""+a;if(!this.tplist.hasOwnProperty(a)||0>=this.tplist[a].length)this.tplist[a]=
[f];else{a=this.tplist[a];for(c=0;c<a.length;++c)if(a[c].handler===f.handler&&a[c].useCapture===f.useCapture){a.splice(c,1);break}for(c=0;c<a.length;++c)if(a[c].priority<f.priority){a.splice(c,0,f);return}a[a.length]=f}};d.prototype.removeEventListener=function(a,f,c){b.checkThisPointer(this,d);a=""+a;if(this.tplist.hasOwnProperty(a)&&!(0>=this.tplist[a].length)){var h=this.tplist[a],e=null;c=Boolean(c||!1);f instanceof q&&(e=f.handler);if("function"!==typeof e)throw Error("\u4f20\u9012\u7ed9 removeEventListener() \u65b9\u6cd5\u7684 listener \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a Listener \u5bf9\u8c61\u3002");
for(f=0;f<h.length;++f)if(h[f].handler===e&&h[f].useCapture===c){h.splice(f,1);0>=h.length&&delete this.tplist[a];break}}};d.prototype.dispatchEvent=function(g){b.checkThisPointer(this,d);b.isString(g)&&(g=new a(g,!1,!1));if(!(g instanceof a))throw Error("\u4f20\u9012\u7ed9 dispatchEvent() \u65b9\u6cd5\u7684 evt \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a Event \u5bf9\u8c61\u3002");var c=this.builtPropagation(),e=c.length>>1;g.eventPhase=1;g.currentTarget=this.target;for(var h=0;h<e&&g.isPropagation();++h)c[h].dispatchEventFunction(g);
if(!g.isPropagation())return!1;g.eventPhase=2;g.currentTarget=this.target;this.dispatchEventFunction(g);if(!g.isPropagation())return!g.defaultPrevented();g.eventPhase=3;g.currentTarget=this.target;for(++h;h<c.length&&g.isPropagation();++h)c[h].dispatchEventFunction(g);return!g.defaultPrevented()};d.prototype.hasEventListener=function(a){b.checkThisPointer(this,d);a=""+a;return this.tplist.hasOwnProperty(a)&&0<this.tplist[a].length};d.prototype.willTrigger=function(a){b.checkThisPointer(this,d);var c=
this.builtPropagation(),e;a=""+a;for(var h=0;h<c.length;++h)if(e=c[h],e.tplist.hasOwnProperty(a)&&0<e.tplist[a].length)return!0;return!1};d.prototype.dispatchEventFunction=function(a){if(this.tplist.hasOwnProperty(a.type)&&!(0>a.eventPhase||3<a.eventPhase)){var b=this.tplist[a.type];a.target=this.target;for(var c=0;c<b.length&&a.isImmediate();++c)b[c].handleEvent(a);!a.defaultPrevented()&&this.handleDefaultBehavior(a)}};d.prototype.handleDefaultBehavior=function(a){};d.prototype.builtPropagation=
function(){return[this]};u.prototype.addEventListener=function(a,c,e,h,m){d.prototype.addEventListener.call(this,a,c,e,h,m);if(b.isImpWithJsEngine(this.target.addEventListener))this.target.addEventListener(""+a,this.handleHtmlEvent,Boolean(e||!1));else if(!0===Boolean(e||!1))try{console.warn("HTMLDispatcher: \u5ba2\u6237\u7aef\u4e0d\u652f\u6301\u4f7f\u7528 useCapture \u53c2\u6570\uff0c\u8be5\u4e8b\u4ef6\u4fa6\u542c\u5668\u5c06\u88ab\u5ffd\u7565\u3002")}catch(n){}else b.isImpWithJsEngine(this.target.attachEvent)?
(this.target.detachEvent("on"+a,this.handleHtmlEvent),this.target.attachEvent("on"+a,this.handleHtmlEvent)):(a="on"+a,this.handleHtmlEvent!==this.target[a]&&(this.tpbind[a]=this.target[a],this.target[a]=this.handleHtmlEvent))};u.prototype.removeEventListener=function(a,c,e){d.prototype.removeEventListener.call(this,a,c,e);if(!this.hasEventListener(""+a))if(b.isImpWithJsEngine(this.target.removeEventListener))this.target.removeEventListener(""+a,this.handleHtmlEvent,!0),this.target.removeEventListener(""+
a,this.handleHtmlEvent,!1);else if(b.isImpWithJsEngine(this.target.detachEvent))this.target.detachEvent("on"+a);else if(a="on"+a,this.handleHtmlEvent===this.target[a]){try{this.target[a]=this.tpbind[a]||null}catch(h){}delete this.tpbind[a]}};u.prototype.handleHtmlEvent=function(a){var b=a||r.event,c=new s(b);if("function"===typeof this.tpbind[c.type])try{this.tpbind[c.type].call(this.target,a)}catch(d){}this.dispatchEventFunction(c);return b.returnValue=!c.defaultPrevented()};a.NONE=0;a.CAPTURING_PHASE=
1;a.AT_TARGET=2;a.BUBBLING_PHASE=3;m.BLUR="blur";m.DOM_FOCUS_IN="DOMFocusIn";m.DOM_FOCUS_OUT="DOMFocusOut";m.FOCUS="focus";m.FOCUS_IN="focusin";m.FOCUS_OUT="focusout";e.CLICK="click";e.DBL_CLICK="dblclick";e.MOUSE_DOWN="mousedown";e.MOUSE_ENTER="mouseenter";e.MOUSE_LEAVE="mouseleave";e.MOUSE_MOVE="mousemove";e.MOUSE_OUT="mouseout";e.MOUSE_OVER="mouseover";e.MOUSE_UP="mouseup";e.MOUSE_WHEEL="mousewheel";t.KEY_DOWN="keydown";t.KEY_PRESS="keypress";t.KEY_UP="keyup";c.TOUCH_START="touchstart";c.TOUCH_END=
"touchend";c.TOUCH_MOVE="touchmove";c.TOUCH_ENTER="touchenter";c.TOUCH_LEAVE="touchlevae";c.TOUCH_CANCEL="touchcancel";c.MS_POINTER_CANCEL="mspointercancel";c.MS_POINTER_DOWN="mspointerdown";c.MS_POINTER_HOVER="mspointerhover";c.MS_POINTER_MOVE="mspointermove";c.MS_POINTER_OUT="mspointerout";c.MS_POINTER_OVER="mspointerover";c.MS_POINTER_UP="mspointerup";c.INTERFACE={};a.ABORT="abort";a.ACTIVATE="activate";a.AFTER_PRINT="afterprint";a.AFTER_UPDATE="afterupdate";a.BEFORE_ACTIVATE="beforeactivate";
a.BEFORE_COPY="beforecopy";a.BEFORE_CUT="beforecut";a.BEFORE_DEACTIVATE="beforedeactivate";a.BEFORE_EDIT_FOCUS="beforeeditfocus";a.BEFORE_PASTE="beforepaste";a.BEFORE_PRINT="beforeprint";a.BEFORE_UNLOAD="beforeunload";a.BOUNCE="bounce";a.CELL_CHANGE="cellchange";a.CHANGE="change";a.COMPLETE="complete";a.CONTEXT_MENU="contextmenu";a.CONTROL_SELECT="controlselect";a.COPY="copy";a.CUT="cut";a.DATA_AVAILABLE="dataavailable";a.DATA_SET_CHANGED="datasetchanged";a.DATA_SET_COMPLETE="datasetcomplete";a.DEACTIVATE=
"deactivate";a.DRAG="drag";a.DRAG_END="dragend";a.DRAG_ENTER="dragenter";a.DRAG_LEAVE="dragleave";a.DRAG_OVER="dragover";a.DRAG_START="dragstart";a.DROP="drop";a.ERROR="error";a.ERROR_UPDATE="errorupdate";a.FILTER_CHANGE="filterchange";a.FINISH="finish";a.HASH_CHANGE="hashchange";a.HELP="help";a.INPUT="input";a.INTER_ACTIVE="interactive";a.LAYOUT_COMPLETE="layoutcomplete";a.LOAD="load";a.LOSE_CAPTURE="losecapture";a.MESSAGE="message";a.MOVE="move";a.MOVE_END="moveend";a.MOVE_START="movestart";a.OFF_LINE=
"offline";a.ON_LINE="online";a.PAGE="page";a.PASTE="paste";a.POP_STATE="popstate";a.PROPERTY_CHANGE="propertychange";a.READY_STATE_CHANGE="readystatechange";a.RESET="reset";a.RESIZE="resize";a.RESIZE_END="resizeend";a.RESIZE_START="resizestart";a.ROW_ENTER="rowenter";a.ROW_EXIT="rowexit";a.ROWS_DELETE="rowsdelete";a.ROWS_INSERTED="rowsinserted";a.SCROLL="scroll";a.SELECT="select";a.SELECTION_CHANGE="selectionchange";a.SELECT_START="selectstart";a.START="start";a.STOP="stop";a.STORAGE="storage";a.STORAGE_COMMIT=
"storagecommit";a.SUBMIT="submit";a.UNLOAD="unload";a.INTERFACE={LOADED:b.isImpWithJsEngine(r.addEventListener)?"DOMContentLoaded":"readystatechange"}})(window,window.document,window.location,window.navigator);
