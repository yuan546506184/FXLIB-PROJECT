(function(m,l,n,g,v){var p=m.Fxlib||null,a=m.Fxlib=function(){},k=Object.prototype.toString,q=Array.prototype.slice,r=/\{\s*\[native code\]\s*\}\s*$/i,s=/^\w+$/,t=/function\s+([^\(\s]+)/;a.isImpWithJsEngine=function(b){return"function"===typeof b&&r.test(""+b)};a.isInvaildObject=function(b){return"undefined"===typeof b||null===b};a.isReferenceObject=function(b){return null!==b&&("object"===typeof b||"function"===typeof b)};a.isValueObject=function(b){return"string"===typeof b||"number"===typeof b||
"boolean"===typeof b};a.isString=function(b){return"string"===typeof b||"[object String]"===k.call(b)};a.isNumber=function(b){return"number"===typeof b||"[object Number]"===k.call(b)};a.isBoolean=function(b){return"boolean"===typeof b||"[object Boolean]"===k.call(b)};a.isArray=a.isImpWithJsEngine(Array.isArray)?Array.isArray:function(b){return"object"===typeof b&&"[object Array]"===k.call(b)};a.isInvaildNumber=function(b){return!("number"===typeof b||"[object Number]"===k.call(b))||isNaN(b)||!isFinite(b)};
a.checkThisPointer=function(b,a){if(!(b instanceof a))throw Error("\u6784\u9020\u51fd\u6570\u6216\u7ed1\u5b9a\u7684\u5bf9\u8c61\u65b9\u6cd5\u7981\u6b62\u4fee\u6539 this \u6307\u9488\u3002");};a.namespace=function(b,e){if(!a.isReferenceObject(this))throw Error("\u8c03\u7528 namespace() \u65b9\u6cd5\u7684\u5bf9\u8c61\u5fc5\u987b\u662f\u5f15\u7528\u7c7b\u578b\u3002");if(!a.isString(b))throw Error("\u4f20\u9012\u7ed9 namespace() \u65b9\u6cd5\u7684 uri \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a String \u5bf9\u8c61\u3002");
for(var c=b.split(/\.+/),d=this,f="",h=0;h<c.length;++h){f=c[h];if(!s.test(f))throw Error("\u4f20\u9012\u7ed9 namespace() \u65b9\u6cd5\u7684 uri \u53c2\u6570\u4e2d\u5305\u542b\u65e0\u6548\u7684\u8def\u5f84\u7ec4\u4ef6\u3002");if(!a.isReferenceObject(d))throw Error("\u4f20\u9012\u7ed9 namespace() \u65b9\u6cd5\u7684 uri \u53c2\u6570\u6307\u5411\u4e86\u975e\u5f15\u7528\u7c7b\u578b\u7684\u8282\u70b9\u3002");if(!(a.isImpWithJsEngine(d.hasOwnProperty)?d.hasOwnProperty(f):f in d))try{d[f]={}}catch(g){throw Error("\u65e0\u6cd5\u4e3a\u88ab\u6807\u8bb0\u4e3a\u4e0d\u53ef\u6269\u5c55\u7684\u5bf9\u8c61\uff0c\u521b\u5efa\u540d\u79f0\u7a7a\u95f4\u5b50\u8282\u70b9\u3002");
}d=d[f]}if(a.isInvaildObject(e))return d;if(!a.isReferenceObject(e))throw Error("\u4f20\u9012\u7ed9 namespace() \u65b9\u6cd5\u7684 scriptor \u53c2\u6570\u5fc5\u987b\u4e3a\u5f15\u7528\u7c7b\u578b\u3002");if(!a.isReferenceObject(d))throw Error("\u4f20\u9012\u7ed9 namespace() \u65b9\u6cd5\u7684 uri \u53c2\u6570\u6307\u5411\u4e86\u975e\u5f15\u7528\u7c7b\u578b\u7684\u8282\u70b9\u3002");for(f in e)if(!a.isImpWithJsEngine(e.hasOwnProperty)||e.hasOwnProperty(f)){if(a.isImpWithJsEngine(d.hasOwnProperty)?d.hasOwnProperty(f):
f in d)throw Error("\u4f20\u9012\u7ed9 namespace() \u65b9\u6cd5\u7684 scriptor \u53c2\u6570\u4e2d\u5305\u542b\u5df2\u7ecf\u5b58\u5728\u539f\u59cb\u540d\u79f0\u7684\u5b9a\u4e49\u3002");d[f]=e[f]}return d};a.dispose=function(){return m.Fxlib=p,a};a.linkPrototype=function(b,e){if("function"!==typeof b)throw Error("\u4f20\u9012\u7ed9 linkPrototype() \u65b9\u6cd5\u7684 thisConstructor \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a Function \u5bf9\u8c61\u3002");if("function"!==typeof e)throw Error("\u4f20\u9012\u7ed9 linkPrototype() \u65b9\u6cd5\u7684 linkConstructor \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a Function \u5bf9\u8c61\u3002");
return(b.prototype=a.builtPrototype(e.prototype)).constructor=b};a.builtPrototype=a.isImpWithJsEngine(Object.create)?Object.create:function(b){if(!a.isReferenceObject(b))throw Error("\u4f20\u9012\u7ed9 builtPrototype() \u65b9\u6cd5\u7684 prototype \u53c2\u6570\u5fc5\u987b\u4e3a\u5f15\u7528\u7c7b\u578b\u3002");var e=function(){};e.prototype=b;return new e};a.foundPrototype=a.isImpWithJsEngine(Object.getPrototypeOf)?Object.getPrototypeOf:function(b){if(!a.isReferenceObject(b))throw Error("\u4f20\u9012\u7ed9 foundPrototype() \u65b9\u6cd5\u7684 object \u53c2\u6570\u5fc5\u987b\u4e3a\u5f15\u7528\u7c7b\u578b\u3002");
if(!a.isInvaildObject(b.__proto__))return b.__proto__;if(a.isImpWithJsEngine(b.hasOwnProperty)&&b.hasOwnProperty("constructor"))try{var e=b.constructor;delete b.constructor;var c=b.constructor;b.constructor=e;return c.prototype}catch(d){return b.constructor.prototype||null}return"function"!==typeof b.constructor?null:b.constructor.prototype||null};a.foundClassName=function(b){if("function"!==typeof b)throw Error("\u4f20\u9012\u7ed9 foundClassName() \u65b9\u6cd5\u7684 handler \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a Function \u5bf9\u8c61\u3002");
return b.hasOwnProperty("name")?b.name:(t.exec(""+b)||{})[1]||""};a.builtProxy=function(b,e){if("function"!==typeof b)throw Error("\u4f20\u9012\u7ed9 builtProxy() \u65b9\u6cd5\u7684 handler \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a Function \u5bf9\u8c61\u3002");if(!a.isReferenceObject(e))throw Error("\u4f20\u9012\u7ed9 builtProxy() \u65b9\u6cd5\u7684 context \u53c2\u6570\u5fc5\u987b\u4e3a\u5f15\u7528\u7c7b\u578b\u3002");if(2===arguments.length)return function(){return b.apply(e,arguments)};var c=q.call(arguments,
2),d=c.length;return function(){c.length=d;for(var a=0;a<arguments.length;++a)c[c.length]=arguments[a];return b.apply(e,c)}};a.ClassObject=a.linkPrototype(function(){a.checkThisPointer(this,a.ClassObject)},Object);var c;a.namespace("events",{Event:c=a.linkPrototype(function e(c,d,f){a.checkThisPointer(this,e);this.type=""+c;this.bubbles=Boolean(d||!1);this.cancelable=Boolean(f||!1);this.currentTarget=this.target=null;this.eventPhase=0;this._isStoppedImmediate=this._isStoppedPropagation=this._isPreventDefault=
!1},a.ClassObject),Listener:n=a.linkPrototype(function u(d,c,h,g){a.checkThisPointer(this,u);if("function"!==typeof d)throw Error("\u4f20\u9012\u7ed9 Listener \u6784\u9020\u51fd\u6570\u7684 handler \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a Function \u5bf9\u8c61\u3002");this.handler=d;this.context=c;this.useCapture=Boolean(h||!1);this.priority=a.isInvaildNumber(g)?0:g},a.ClassObject),Dispatcher:g=a.linkPrototype(function d(c){a.checkThisPointer(this,d);this.target=c||this;this.tplist={};if(!a.isReferenceObject(this.target))throw Error("\u4f20\u9012\u7ed9 Dispatcher \u6784\u9020\u51fd\u6570\u7684 target \u53c2\u6570\u5fc5\u987b\u4e3a\u5f15\u7528\u7c7b\u578b\u3002");
},a.ClassObject)});c.prototype.initEvent=function(d,f,h){a.checkThisPointer(this,c);this.type=""+d;this.bubbles=Boolean(f||!1);this.cancelable=Boolean(h||!1)};c.prototype.stopPropagation=function(){a.checkThisPointer(this,c);this._isStoppedPropagation=!0};c.prototype.stopImmediatePropagation=function(){a.checkThisPointer(this,c);this._isStoppedImmediate=this._isStoppedPropagation=!0};c.prototype.preventDefault=function(){a.checkThisPointer(this,c);this._isPreventDefault=!!this.cancelable};c.prototype.defaultPrevented=
function(){a.checkThisPointer(this,c);return this._isPreventDefault};c.prototype.toString=function(){return"[object Event]"};c.prototype.isPropagation=function(){return!this._isStoppedPropagation};c.prototype.isImmediate=function(){return!this._isStoppedImmediate};n.prototype.handleEvent=function(a){try{2===a.eventPhase&&this.handler.call(this.context,a)||1===a.eventPhase&&!0===this.useCapture&&this.handler.call(this.context,a)||3===a.eventPhase&&!1===this.useCapture&&this.handler.call(this.context,
a)}catch(c){}};g.prototype.addEventListener=function(a,c,h,g,k){};g.prototype.removeEventListener=function(a,c,h){};g.prototype.dispatchEvent=function(a){};g.prototype.hasEventListener=function(a){};g.prototype.willTrigger=function(a){};g.prototype.dispatchEventFunction=function(a){};g.prototype.builtPropagation=function(){return[this]};g.prototype.handleDefaultBehavior=function(a){};l.addEventListener("readystatechange",function(a){l.addEventListener("cue",function(a){console.log("document: ",a.type)},
!0);var c=l.getElementById("sub");c.addEventListener("click",function(a){console.log("sub: ",a.type);a.stopPropagation();a=l.createEvent("Event");console.log(a.eventPhase);a.initEvent("cue",!1,!1);console.log(a.type);console.log(a.eventPhase);c.dispatchEvent(a)});c.addEventListener("cue",function(a){console.log("sub: ",a.type)})})})(window,window.document,window.location,window.navigator);
